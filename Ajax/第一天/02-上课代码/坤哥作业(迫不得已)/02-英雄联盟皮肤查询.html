<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .small {
            width: 80px;
        }

        li {
            float: left;
            list-style: none;
            margin-right: 20px;
        }

        ul {
            width: 1000px;
            margin: 20px auto;
            overflow: auto;
        }

    
        .father {
            width: 1000px;
            margin: 0 auto;
        }

        .father #bigPic {
            width: 1000px;
        }

        p {
            text-align: center;
        }
    </style>
</head>

<body>
    <ul id="ul1">
        <!-- <li><a href="images/01.jpg"><img src="images/01.jpg" alt="" class="small" /></a></li> -->
    </ul>
    <div class="father">
        <img src="" alt="" id="bigPic" />
    </div>

    <!-- 导包 -->
    <script src="./libs/jquery-1.12.4.js"></script>

    <script>
        
        //1.获取sessionStorage中的英雄姓名
        var name = sessionStorage.getItem('name');
        console.log(name);
        //2.ajax请求英雄皮肤
        $.ajax({
            url:'https://autumnfish.cn/api/hero/detail',
            type:'get',
            dataType:'json',
            data:{ name:name },
            success: function(backData){
                console.log(backData);
                /* 遍历数组：把小图icons显示在li元素img中，大图bgs路径放在a标签的href属性中 */
                for(var i = 0;i<backData.icons.length;i++){
                    $('#ul1').append('<li>' +
                    '<a href=' +backData.bgs[i] + '>' + 
                    '<img class="small" src=' + backData.icons[i] + '>' +
                    '</a></li>');  
                };
                /* 加载成功后主动触发第一个a标签的点击事件 */
                $('#ul1 a:eq(0)').trigger('click');
            }
        });

        //3. a标签点击事件
        /* 注意：这个a标签并不是页面一开始就有的，而是服务器动态加载，所以需要注册委托事件 */
        $('#ul1').on('click','a',function(){

            $('#bigPic').attr('src', $(this).attr('href'));
            //阻止a标签默认跳转
            return false;
        });

        
    </script>
</body>

</html>