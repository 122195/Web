<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <button class="btn1">基本使用</button>
    <button class="btn2">点我发送get请求</button>
    <button class="btn3">点我发送post请求</button>

    <!-- 导入axios -->
    <script src="./axios.js"></script>

    <script>
      /* 
      axios语法 :
        axios
         .get('url')
         .then( res=>{ //请求成功 } )
         .catch( err=>{ //请求错误} )
         .then( ()=>{ //请求完成 } )
      */

      //基本使用
      document.querySelector(".btn1").onclick = function() {
        axios
        .get('https://autumnfish.cn/api/joke/list?num=10')
        .then(res=>{
          // res : 是axios库对响应数据做了一层包装
          console.log(res)
          // res.data : 才是服务器响应的数据, axios库自动把json转js
          console.log( res.data )
        })
        .catch(err=>{
          //网络错误 :  (1)url路径写错了   (2)网络错误
          console.log(err)
        }).then( ()=>{
          //本次请求完成，无论成功失败
          console.log( '本次请求完成' )
        } )
      }
      //点我发送get请求
      document.querySelector(".btn2").onclick = function() {
        axios.get('https://autumnfish.cn/api/joke/list',{
          params:{ num:10 }
        })
        .then(res=>{ 
          console.log(res)
        })
      }

      //点我发送post请求
      document.querySelector(".btn3").onclick = function() {
        axios.post('http://www.liulongbin.top:3009/api/login',{
          username:'sfs',
          password:'adada'
        }).then(res=>{
          console.log( res )
        })
      }
    </script>
  </body>
</html>
